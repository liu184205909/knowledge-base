# 新手入门路径：跑测试、长任务的具体例子

> **基于你的实际需求**：同时跑2-3个项目，需要长时间运行 | 2026-01-05

---

## 📊 你的需求分析

**你的诉求**：
1. **需要具体例子**：什么任务需要"跑测试、长任务"？
2. **验证AI开发方式**：这些例子是否印证了需要多AI并行？
3. **新手入门路径**：应该从哪种方式开始？
4. **实际场景**：同时跑2-3个项目，需要长时间运行

---

## 🎯 快速决策：你的答案

### 你应该从哪个方式开始？

**直接答案**：**Schaltwerk（多AI协同）**

**原因**：
- ✅ 你的需求：2-3个项目并行 → Schaltwerk天然支持
- ✅ 新手友好：图形界面，无需复杂配置
- ✅ 长时间运行：支持自动隔离，互不干扰
- ✅ 学习曲线：1天上手，3天熟练

**不适合你的方式**：
- ❌ **自动化流水线**（CSV+MCP）：需要50+任务，你的场景是2-3个项目
- ❌ **feature-dev**：单一复杂功能，不适合并行多项目
- ❌ **Cursor多窗口**：致命缺陷，无代码隔离（会互相覆盖）

---

## 🔥 具体例子1：测试驱动开发（最常见的"长任务"）

### 场景描述

```markdown
项目：电商网站
任务：为"用户评论"功能添加完整测试套件

现状：
- 功能已开发完成（评论、回复、删除、审核）
- 但没有任何自动化测试
- 需要添加测试覆盖率>80%
```

### 为什么是"长任务"？

```bash
# AI需要做的事（按顺序）：
1. 分析现有代码结构（30分钟）
2. 编写单元测试（10个函数 × 5分钟 = 50分钟）
3. 编写集成测试（5个场景 × 10分钟 = 50分钟）
4. 运行测试并修复Bug（循环10-20次 × 5分钟 = 50-100分钟）
5. 补充边界情况测试（30分钟）
6. 最终验证和覆盖率检查（20分钟）

总计：3-5小时（如果手动测试可能需要1-2天）
```

### AI如何自动完成？

**传统方式**：
```bash
# 你需要反复复制错误信息，重新提问
你：运行测试
AI：测试失败，错误是...
你：复制错误信息，重新提问"修复这个错误"
AI：修复完成，再次运行测试
AI：测试又失败了，错误是...
你：再次复制错误信息...
# 重复10-20次 😫
```

**Ralph Wiggum方式**（自动循环）：
```bash
# 一句话启动自动循环
/ralph-loop "为用户评论功能添加测试，覆盖率>80%" --completion-promise "所有测试通过" --max-iterations 20

# AI自动循环：
1. 运行测试
2. 测试失败 → 分析错误
3. 修复代码
4. 再运行测试
5. 重复直到所有测试通过
# 你可以去做其他事情，3小时后回来验收 ✅
```

### 实际代码示例

```javascript
// src/services/commentService.test.ts
describe('CommentService', () => {
  describe('addComment', () => {
    it('should add comment successfully', async () => {
      const result = await commentService.addComment({
        userId: 1,
        articleId: 1,
        content: '测试评论'
      })
      expect(result.success).toBe(true)
    })

    it('should reject empty comment', async () => {
      const result = await commentService.addComment({
        userId: 1,
        articleId: 1,
        content: ''
      })
      expect(result.error).toBe('评论内容不能为空')
    })

    it('should reject comment over 500 characters', async () => {
      const longContent = 'a'.repeat(501)
      const result = await commentService.addComment({
        userId: 1,
        articleId: 1,
        content: longContent
      })
      expect(result.error).toBe('评论长度不能超过500字')
    })

    // ... 更多测试
  })
})

// AI会运行测试 → 发现失败 → 修复 → 再运行 → 直到全部通过
```

---

## 🔥 具体例子2：批量API开发（典型的"多任务长任务"）

### 场景描述

```markdown
项目：SaaS后台管理系统
任务：开发10个REST API接口

API列表：
1. GET /api/users - 获取用户列表
2. GET /api/users/:id - 获取单个用户
3. POST /api/users - 创建用户
4. PUT /api/users/:id - 更新用户
5. DELETE /api/users/:id - 删除用户
6. GET /api/users/:id/orders - 获取用户订单
7. POST /api/users/:id/avatar - 上传头像
8. GET /api/users/:id/stats - 获取用户统计
9. PUT /api/users/:id/status - 更新用户状态
10. POST /api/users/:id/reset-password - 重置密码
```

### 为什么是"长任务"？

```bash
# AI需要做的事（按顺序）：
1. 设计API接口规范（30分钟）
2. 创建数据库模型（10分钟）
3. 实现CRUD基础接口（10个 × 15分钟 = 150分钟）
4. 添加参数验证（10个 × 10分钟 = 100分钟）
5. 编写单元测试（10个 × 10分钟 = 100分钟）
6. 编写集成测试（10个 × 15分钟 = 150分钟）
7. 运行测试并修复Bug（循环20-30次）
8. 编写API文档（60分钟）

总计：8-12小时（如果手动开发可能需要3-5天）
```

### 单AI方式（feature-dev）

**问题**：
```bash
# 只能串行处理
API 1 → API 2 → API 3 → ... → API 10
总时间：10小时

你需要：
- 盯着屏幕，每个API完成后启动下一个
- 中间不能断开连接
- 上下文可能在第5-6个API后丢失
```

### 多AI并行方式（Schaltwerk）

**解决方案**：
```bash
# 同时启动3个AI
AI 1: API 1-3 (用户基础CRUD)
AI 2: API 4-6 (用户扩展功能)
AI 3: API 7-10 (用户高级功能)

# 3个AI同时工作
总时间：3.5小时（10小时 ÷ 3 ≈ 3.5小时）

优势：
✅ 3倍速度提升
✅ 自动代码隔离（Git Worktree）
✅ 长时间运行，互不干扰
```

### Schaltwerk具体操作

```bash
# 1. 创建项目配置
schaltwerk init
# 自动创建3个worktree分支

# 2. 在3个窗口同时启动AI
# 窗口1：
cd worktree-1
claude
"开发API 1-3：用户基础CRUD功能"

# 窗口2：
cd worktree-2
claude
"开发API 4-6：用户扩展功能"

# 窗口3：
cd worktree-3
claude
"开发API 7-10：用户高级功能"

# 3. 3.5小时后，所有API开发完成
# 4. Schaltwerk自动合并代码
```

---

## 🔥 具体例子3：多项目并行（你的实际需求场景）

### 场景描述

```markdown
你同时接了3个项目：

项目A：个人博客网站（WordPress主题开发）
- 任务：开发自定义主题
- 工作量：3天
- 截止时间：1周后

项目B：企业官网（React + Next.js）
- 任务：开发10个页面
- 工作量：5天
- 截止时间：2周后

项目C：小程序（微信小程序）
- 任务：开发电商功能
- 工作量：7天
- 截止时间：3周后

你的痛点：
- 需要同时在3个项目间切换
- 怕代码混淆
- 希望AI能长时间自动工作
```

### 为什么需要多AI并行？

**传统单AI方式**：
```bash
# 你只能串行处理
时间线：
Week 1: 项目A（3天） + 项目B（2天）
Week 2: 项目B（3天） + 项目C（2天）
Week 3: 项目C（5天）

问题：
❌ 总时间：3周
❌ 项目C延期交付（原计划3周内完成）
❌ 需要频繁切换上下文
```

**多AI并行方式**（你的需求）：
```bash
# 同时启动3个AI
时间线：
Week 1-3: 3个项目同时进行

AI 1: 项目A（博客）
AI 2: 项目B（官网）
AI 3: 项目C（小程序）

优势：
✅ 总时间：2周（3周内有富余）
✅ 所有项目都提前或按时交付
✅ 代码完全隔离，不会混淆
✅ 每个项目独立运行，互不干扰
```

### Schaltwerk实现多项目并行

**方式1：单项目多分支**（推荐新手）

```bash
# 场景：3个功能属于同一个项目
mkdir my-ecommerce-project
cd my-ecommerce-project
git init

# 使用Schaltwerk创建3个工作树
schaltwerk init
# 自动创建：
# - worktree-1 (feature/user-management)
# - worktree-2 (feature/payment-system)
# - worktree-3 (feature/inventory-system)

# 在3个终端同时启动AI
# 终端1：
cd worktree-1
cursor
"开发用户管理功能：注册、登录、个人中心"

# 终端2：
cd worktree-2
cursor
"开发支付系统：支付宝、微信支付、订单管理"

# 终端3：
cd worktree-3
cursor
"开发库存系统：商品管理、入库出库、库存预警"

# 3个AI同时工作，3-5天后所有功能完成
```

**方式2：多项目独立运行**（你的实际需求）

```bash
# 场景：3个完全独立的项目
# 项目A：个人博客
cd ~/projects/blog
cursor
"开发WordPress主题：首页、文章页、分类页"

# 项目B：企业官网（新终端窗口）
cd ~/projects/corporate-site
cursor
"开发React官网：首页、关于我们、产品展示、联系我们"

# 项目C：小程序（第3个终端窗口）
cd ~/projects/miniprogram
cursor
"开发微信小程序：首页、商品列表、购物车、订单、个人中心"

# 3个AI同时工作，互不干扰
```

**关键点**：
- ✅ 每个项目使用独立的Cursor客户端
- ✅ 每个项目独立运行，长时间工作
- ✅ 不需要代码隔离（不同项目）
- ✅ 可以随时切换查看进度

---

## 🎯 新手入门路径（3阶段）

### 阶段1：单AI熟悉（1-2周）

**目标**：熟悉AI开发流程

**任务**：
```bash
# 使用feature-dev开发一个完整功能
使用 feature-dev，帮我开发用户评论功能

要求：
1. 用户可以发表评论
2. 评论可以回复
3. 敏感词过滤
4. 测试覆盖率>80%
```

**工具**：
- Cursor + Claude Code
- feature-dev工作流

**时间**：1-2周（开发2-3个功能）

**验收**：
- ✅ 熟悉Plan模式
- ✅ 了解8阶段开发流程
- ✅ 能独立完成中等复杂度功能

---

### 阶段2：多AI并行（2-4周）⭐ 你的目标

**目标**：掌握多AI协同开发

**任务**：
```bash
# 场景：同时开发3个功能

# 使用Schaltwerk创建3个工作树
schaltwerk init

# AI 1：开发用户管理
cd worktree-1
cursor
"开发用户管理功能：注册、登录、个人中心、权限管理"

# AI 2：开发支付系统
cd worktree-2
cursor
"开发支付系统：支付宝、微信支付、订单管理、退款流程"

# AI 3：开发消息通知
cd worktree-3
cursor
"开发消息通知：邮件通知、短信通知、站内信、推送通知"
```

**工具**：
- Schaltwerk（多AI管理工具）
- 3个Cursor窗口（或1个Cursor + 2个Claude Code IDE）

**时间**：2-4周（完成3-5个项目）

**验收**：
- ✅ 熟练使用Schaltwerk
- ✅ 理解代码隔离原理
- ✅ 能同时管理2-3个AI
- ✅ 能处理合并冲突

---

### 阶段3：自动化流水线（1-3个月）

**目标**：掌握大规模自动化（可选）

**任务**：
```bash
# 场景：50+个重复性任务
1. 准备CSV任务清单（50个API接口）
2. 配置MCP测试服务器
3. 启动自动化流水线
4. 10小时后验收结果
```

**工具**：
- CSV + MCP + Plan模式
- 自动化测试框架

**时间**：1-3个月（学习曲线陡峭）

**验收**：
- ✅ 能编写详细的CSV任务清单
- ✅ 能配置MCP服务器
- ✅ 理解自动化流水线原理

**注意**：
- ⚠️ **这是高级技能，不建议新手直接跳到这里**
- ⚠️ **你的场景（2-3个项目）不需要这个级别**

---

## 📊 三种方式对比（基于你的需求）

| 维度 | feature-dev | Schaltwerk | 自动化流水线 |
|------|------------|------------|-------------|
| **适合你的场景** | ❌ 单一功能 | ✅ **2-3个项目** | ❌ 50+任务 |
| **学习曲线** | 中等 | **低（图形界面）** | 极高 |
| **上手时间** | 3-5天 | **1天** | 1-2周 |
| **并行能力** | ❌ 串行 | ✅ **3-10个AI** | ✅ 50+任务 |
| **代码隔离** | Plan模式 | **Git Worktree** | CSV外挂记忆 |
| **长时间运行** | ⚠️ 需监控 | ✅ **自动隔离** | ✅ 完全自动 |
| **你的需求匹配** | 30% | **100%** | 10% |

---

## 🚀 你应该怎么做？（具体行动计划）

### 第1周：熟悉单AI开发

```bash
Day 1-2: 安装工具
- 安装Cursor
- 配置Claude Code
- 熟悉基本操作

Day 3-7: 开发第一个功能
使用 feature-dev，帮我开发用户登录功能

要求：
1. 邮箱/密码登录
2. JWT Token鉴权
3. 记住密码功能
4. 找回密码功能
```

### 第2周：尝试双AI并行

```bash
Day 1-2: 学习Schaltwerk
- 阅读[多AI协同开发](./03-多AI协同-Schaltwerk工具.md)
- 安装Schaltwerk
- 创建测试项目

Day 3-7: 双AI并行测试
# AI 1：开发用户管理
cd worktree-1
cursor
"开发用户注册、登录、个人中心"

# AI 2：开发文章管理
cd worktree-2
cursor
"开发文章发布、编辑、删除、分类"
```

### 第3周及以后：实战你的项目

```bash
# 启动3个AI，同时开发3个项目

# 项目A：个人博客
cd ~/projects/blog
cursor
"开发WordPress主题：首页、文章页、分类页、标签页"

# 项目B：企业官网
cd ~/projects/corporate-site
cursor
"开发React官网：首页、关于我们、产品展示、新闻中心、联系我们"

# 项目C：小程序
cd ~/projects/miniprogram
cursor
"开发微信小程序：首页、商品列表、详情页、购物车、订单、个人中心"

# 每天检查进度，2-3周后所有项目完成
```

---

## 💡 常见问题

### Q1: 我需要一直盯着屏幕吗？

**A**: 不需要！

**Schaltwerk优势**：
```bash
# 启动AI后，你可以：
✅ 关闭Cursor（AI在后台继续工作）
✅ 去做其他事情
✅ 睡觉（AI通宵工作）
✅ 第二天早上来验收

# 查看进度：
schaltwerk status
# 显示3个AI的工作进度
```

### Q2: 3个AI会不会互相冲突？

**A**: 不会！

**代码隔离机制**：
```bash
# Schaltwerk使用Git Worktree
项目根目录/
├── worktree-1/ (AI 1独立工作区)
├── worktree-2/ (AI 2独立工作区)
└── worktree-3/ (AI 3独立工作区)

# 每个AI有自己的代码副本
# 修改互不影响，直到你手动合并
```

### Q3: 我需要3台电脑吗？

**A**: 不需要！

**资源需求**：
```bash
# 最低配置（单台电脑）
- CPU: 4核
- 内存: 16GB
- 硬盘: 20GB空闲
- 系统: Windows/Mac/Linux

# 推荐（更流畅）
- CPU: 8核
- 内存: 32GB
- 硬盘: 50GB空闲

# 实际体验
- 2个AI同时运行：流畅（8GB内存）
- 3个AI同时运行：可用（16GB内存）
- 5个AI同时运行：推荐（32GB内存）
```

### Q4: 如果AI卡住了怎么办？

**A**: Schaltwerk自动处理！

**容错机制**：
```bash
# AI卡住/报错时
1. Schaltwerk自动检测（3分钟无响应）
2. 自动重启AI
3. 恢复到上次保存点
4. 继续工作

# 你也可以手动干预
schaltwerk restart worktree-1  # 重启某个AI
schaltwerk logs worktree-1     # 查看日志
```

### Q5: 成本会不会很高？

**A**: 非常低！

**成本对比**：
```bash
# 传统开发（人工）
时间：3周 × 40小时 = 120小时
成本：120小时 × 你的时薪

# AI辅助开发（Schaltwerk）
时间：1周 × 10小时 = 10小时
成本：10小时 × 你的时薪 + API费用（约50-100元）

# 节省：110小时 + 大量人力成本
```

---

## 🎯 总结：你的最佳路径

### 你的需求
- ✅ 同时跑2-3个项目
- ✅ 需要长时间运行
- ✅ 新手，需要简单易用

### 你的答案
**直接使用 Schaltwerk（多AI协同）**

### 理由
1. ✅ 完美匹配你的场景（2-3个项目）
2. ✅ 学习曲线最低（图形界面）
3. ✅ 支持长时间运行（自动隔离）
4. ✅ 成本最低（50-100元完成3个项目）

### 行动计划
```
Week 1: 熟悉单AI开发（feature-dev）
Week 2: 学习Schaltwerk（双AI并行）
Week 3+: 启动3个AI，同时开发你的3个项目
```

### 预期效果
```
传统方式：3周（串行）
AI方式：1-2周（并行）
提升：3-5倍速度
```

---

## 🔗 相关文档

- [多AI协同开发](./03-多AI协同-Schaltwerk工具.md) - Schaltwerk完整教程
- [feature-dev开发流程](./02-单AI开发-feature-dev开发流程.md) - 单AI工作流
- [自动化流水线](./04-自动化流水线-CSV+MCP系统.md) - 高级自动化（50+任务）
- [AI开发方式快速导航](./README.md) - 决策树

---

**创建时间**: 2026-01-05
**适用场景**: 新手入门，2-3个项目并行
**核心理念**: 跑测试、长任务 = AI自动循环，你负责验收
